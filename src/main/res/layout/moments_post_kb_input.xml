<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android" xmlns:app="http://schemas.android.com/apk/res-auto" android:id="@+id/input_root_view" android:background="@color/bg_body" android:layout_width="match_parent" android:layout_height="match_parent">
    <com.ss.android.lark.ui.CommonTitleBar android:id="@+id/title_bar" android:layout_width="match_parent" android:layout_height="wrap_content"/>
    <FrameLayout android:id="@+id/category_selector" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_below="@+id/title_bar">
        <androidx.constraintlayout.widget.ConstraintLayout android:id="@+id/category_list" android:visibility="gone" android:layout_width="match_parent" android:layout_height="@dimen/dp_48">
            <androidx.recyclerview.widget.RecyclerView android:id="@+id/categoryList" android:background="@color/bg_body" android:layout_width="0dp" android:layout_height="match_parent" app:layout_constraintBottom_toBottomOf="0" app:layout_constraintEnd_toStartOf="@+id/endLabel" app:layout_constraintStart_toEndOf="@+id/startLabel" app:layout_constraintTop_toTopOf="0"/>
            <ImageView android:id="@+id/shadowRight" android:visibility="gone" android:layout_width="@dimen/dp_6" android:layout_height="match_parent" android:src="@drawable/moments_tab_shadow_right" app:layout_constraintBottom_toBottomOf="0" app:layout_constraintEnd_toStartOf="@+id/endLabel" app:layout_constraintTop_toTopOf="0"/>
            <ImageView android:id="@+id/shadowLeft" android:visibility="gone" android:layout_width="@dimen/dp_6" android:layout_height="match_parent" android:src="@drawable/moments_tab_shadow_left" app:layout_constraintBottom_toBottomOf="0" app:layout_constraintStart_toEndOf="@+id/startLabel" app:layout_constraintTop_toTopOf="0"/>
            <TextView android:textSize="@dimen/dp_14" android:textColor="@color/text_caption" android:gravity="center_vertical" android:id="@+id/startLabel" android:layout_width="wrap_content" android:layout_height="match_parent" android:text="@string/Lark_Community_CategoryIs" android:paddingStart="@dimen/dp_16" android:paddingEnd="@dimen/dp_10" app:layout_constraintBottom_toBottomOf="0" app:layout_constraintStart_toStartOf="0" app:layout_constraintTop_toTopOf="0"/>
            <TextView android:textSize="@dimen/dp_14" android:textColor="@color/text_caption" android:gravity="center_vertical" android:id="@+id/endLabel" android:layout_width="wrap_content" android:layout_height="match_parent" android:text="@string/Lark_Community_All" android:paddingStart="@dimen/dp_10" android:paddingEnd="@dimen/dp_8" app:layout_constraintBottom_toBottomOf="0" app:layout_constraintEnd_toEndOf="0" app:layout_constraintTop_toTopOf="0"/>
        </androidx.constraintlayout.widget.ConstraintLayout>
        <androidx.cardview.widget.CardView android:id="@+id/category_card" android:clickable="false" android:layout_width="wrap_content" android:layout_height="@dimen/dp_36" android:layout_marginTop="@dimen/dp_16" android:layout_marginStart="@dimen/dp_16" android:layout_marginEnd="@dimen/dp_16" app:cardCornerRadius="8dp" app:cardElevation="0dp">
            <androidx.constraintlayout.widget.ConstraintLayout android:id="@+id/from_layout" android:background="@drawable/moments_post_from_bg_selector" android:focusable="true" android:clickable="true" android:layout_width="wrap_content" android:layout_height="@dimen/dp_36" android:paddingEnd="@dimen/dp_16">
                <ImageView android:id="@+id/iv_from" android:visibility="gone" android:layout_width="@dimen/dp_44" android:layout_height="@dimen/dp_36" android:paddingEnd="@dimen/dp_8" android:layout_marginEnd="@dimen/dp_8" app:layout_constraintBottom_toBottomOf="0" app:layout_constraintStart_toStartOf="0" app:layout_constraintTop_toTopOf="0"/>
                <ImageView android:id="@+id/iv_choose_category" android:layout_width="@dimen/dp_24" android:layout_height="@dimen/dp_20" android:src="@drawable/ud_icon_moments_categories_outlined" android:paddingEnd="@dimen/dp_4" android:layout_marginStart="@dimen/dp_16" android:layout_marginEnd="@dimen/dp_4" app:layout_constraintBottom_toBottomOf="0" app:layout_constraintStart_toStartOf="0" app:layout_constraintTop_toTopOf="0"/>
                <androidx.constraintlayout.widget.Barrier android:id="@+id/barrier_iv_end" android:layout_width="wrap_content" android:layout_height="wrap_content" app:barrierDirection="6" app:constraint_referenced_ids="iv_choose_category,iv_from"/>
                <TextView android:textSize="@dimen/dp_14" android:textColor="@color/text_title" android:ellipsize="end" android:gravity="center_vertical" android:id="@+id/tv_from" android:layout_width="wrap_content" android:layout_height="wrap_content" android:text="@string/Lark_Moments_SelectACategory" android:singleLine="true" android:includeFontPadding="false" app:layout_constrainedWidth="true" app:layout_constraintBottom_toBottomOf="0" app:layout_constraintEnd_toEndOf="@+id/ic_right" app:layout_constraintHorizontal_bias="0" app:layout_constraintStart_toEndOf="@+id/barrier_iv_end" app:layout_constraintTop_toTopOf="0"/>
                <ImageView android:id="@+id/ic_right" android:layout_width="@dimen/dp_8" android:layout_height="@dimen/dp_8" android:src="@drawable/ud_icon_expand_right_filled" android:layout_marginStart="@dimen/dp_4" app:layout_constraintBottom_toBottomOf="0" app:layout_constraintEnd_toEndOf="0" app:layout_constraintStart_toEndOf="@+id/tv_from" app:layout_constraintTop_toTopOf="0"/>
            </androidx.constraintlayout.widget.ConstraintLayout>
        </androidx.cardview.widget.CardView>
    </FrameLayout>
    <LinearLayout android:orientation="horizontal" android:id="@+id/input_content" android:paddingTop="@dimen/dp_16" android:paddingBottom="@dimen/dp_1" android:clipChildren="false" android:clipToPadding="false" android:layout_width="match_parent" android:layout_height="match_parent" android:layout_above="@+id/bottom_container" android:layout_below="@+id/category_selector" android:paddingStart="@dimen/dp_16" android:paddingEnd="@dimen/dp_16">
        <androidx.core.widget.NestedScrollView android:id="@+id/toolbox_postmsg_container" android:scrollbars="none" android:clipChildren="false" android:clipToPadding="false" android:layout_width="match_parent" android:layout_height="match_parent" android:fillViewport="true" android:overScrollMode="never">
            <LinearLayout android:orientation="vertical" android:clipChildren="false" android:clipToPadding="false" android:layout_width="match_parent" android:layout_height="wrap_content">
                <com.ss.android.lark.moments.impl.common.widget.SelectionListenerRichTextEditText android:textSize="17dp" android:textColor="@color/text_title" android:textColorHint="@color/text_placeholder" android:gravity="left" android:id="@+id/toolbox_et_postmessage" android:background="@null" android:focusable="true" android:layout_width="match_parent" android:layout_height="wrap_content" android:minHeight="@dimen/dp_120" android:hint="@string/Lark_Legacy_ComposePostWriteSomething" android:inputType="textMultiLine"/>
                <androidx.recyclerview.widget.RecyclerView android:id="@+id/fl_img_container" android:paddingTop="16dp" android:paddingBottom="16dp" android:clipChildren="false" android:clipToPadding="false" android:layout_width="wrap_content" android:layout_height="wrap_content"/>
            </LinearLayout>
        </androidx.core.widget.NestedScrollView>
    </LinearLayout>
    <com.ss.android.lark.widget.slidingup.SlidingUpPanelLayout android:gravity="bottom" android:id="@+id/top_drawer" android:visibility="visible" android:layout_width="match_parent" android:layout_height="match_parent" android:layout_above="@+id/bottom_container" android:layout_alignParentTop="true">
        <View android:id="@+id/content" android:background="@color/transparent" android:layout_width="match_parent" android:layout_height="match_parent"/>
    </com.ss.android.lark.widget.slidingup.SlidingUpPanelLayout>
    <androidx.constraintlayout.widget.ConstraintLayout android:id="@+id/bottom_container" android:visibility="gone" android:layout_width="match_parent" android:layout_height="wrap_content" android:layout_alignParentBottom="true"/>
</RelativeLayout>
